## Poll

- select 已经可以处理多个 socket了，但 Poll 也可以实现同样的功能, 且调用方法十分简单

- ```c
  struct pollfd{
    int fd;	// 文件描述符
    short events;	// 要求查询的事件掩码
    short revents; // 返回的事件掩码
  };
  int poll(struct pollfd* ufds, unsigned int nfds, int timeout);
  ```

- poll 函数使用pollfd 结构体来监控一组文件句柄，

  - ufds 是要监控的文件句柄集合，nfds 是监控的文件句柄数量，即前面 pollfd 结构体的数量，timeout 则是等待的毫秒数。无论文件描述符是否准备好，都即可返回。
  - **timeout** 为负数则无线等待。