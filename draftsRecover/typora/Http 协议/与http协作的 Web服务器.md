#### 与HTTP 协作的 Web 服务器

- 用单台虚拟主体实现多个域名
  - 一台服务器上往往搭载多个 http 服务。
  - 在互联网上，域名通过 DNS 服务映射到 IP 地址 ( 域名解析 ) 之后访问目标网站。
    - 当请求发送到服务器时，已经是以IP地址形式访问了。
    - 所以，如果一台服务器内托管了 www.tradji.jp 和 www.hackr.jp 这两个域名，当受到请求时，就需要弄清楚究竟要访问哪个域名。
- 通信数据转发程序 : 代理 网关 隧道
  - 在 HTTP 通信时，除客户端和服务器以外。还有一些用于通信数据转发的应用程序，例如代理，网关和隧道。用于配合服务器工作。
  - 代理
    - 代理是一种有转发功能的应用程序。他扮演了位于服务器和客户端 "中间人" 的角色。
  - 网关
    - 转发其他服务器通信数据的服务器，接受从客户端发送来的请求时，他就像自己拥有资源的源服务器一样对请求进行处理。
  - 隧道
    - 。。。
- 代理
  - 代理服务器的基本行为就是接受客户端发送的请求后转发给其他服务器。
  - 代理不改变 URI ，会直接发送给前方持有资源的目标服务器。
  - 使用代理服务器的理由有 : 
    - 利用缓存技术 () 减少网络带宽的流量，组织内部针对特定网站的访问控制，以获取访问日志为主要的目的。
    - 代理有多种使用方法
      - 缓存代理
        - 代理转发响应时，缓存代理 ( Caching Proxy ) 会预先将资源的副本 ( 缓存)保存到代理服务器中。
        - 当代理再次接受到对相同资源的请求时，就可以不从源服务器那里获取资源，而是将之前缓存的资源作为响应返回。
      - 透明代理
        - 转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理 ( Transparent Proxy )
- 网关
  - 利用 网关 可以由 HTTP 请求转化为其他协议通信
  - 网关的工作机制和代理十分相似。网关能使通信线路上的服务器提供非 HTTP 协议服务。
  - 利用网关能提高通信的安全性。
    - 可以在客户端和网关之间的通信线路上加密以确保连接的安全。
    - 网关可以连接数据库。使用 SQL 语句查询数据。
- 隧道
  - 隧道可以按照要求建立起一条与其他服务器的通信线路，届时使用 SSL等加密手段进行通信。
  - 隧道的目的是确保客户端能与服务器进行安全的通信。

保存资源的缓存

- 缓存是指代理服务器或客户端本地磁盘内保存的资源副本。
- 利用缓存可减少对源服务器的访问，因此也就节省了通信流量和通信时间。
- 缓存服务器是代理服务器的一种。并归类在缓存代理类型中。
- 缓存的有效期限
- 客户端的缓存
  - 缓存不仅可以存在缓存服务器内，还可以存在客户端浏览器中。
  - 如果浏览器缓存如果有效，就不必再向服务器请求相同的资源。
- 下面我们看看在 HTTP 协议出现之前的协议
  - FTP ( File Transfer Protocol )
    -  传输文件协议。时至今日，仍然被广泛使用。
  - 。。。略
- 















































































































