#### 基于 HTTP 的功能追加协议

- Google 在 2010 年发布了 SPDY 
  - 主要目的是解决 HTTP 性能瓶颈。
  - 缩短Web页面的加载时间
- 现有的 HTTP 标准瓶颈
  - 1. 一条连接上只可发送一个请求
    2. 请求只能从客户端开始。客户端不可以接受除了响应以外的指令。
    3. 请求 / 响应首部未经压缩就发送。首部信息越多延迟越大
    4. 发送冗长的首部，每次互相发送相同的首部造成的浪费比较多。
  - Ajax
    - Asynchronous JavaScript and XML 异部的 JavaScript 和 XML ( 技术 )
    - 是一种有效利用 JavaScript and DOM ( Document Object Model, 文档对象模型 ) 的操作，以达到局部 Web 页面替换加载的异步通信手段。
    - 和以前同步通信相比，由于他只更新一部分页面。响应中传书的数据量也会因此而减少。
    - Ajax 的核心技术是叫做 XMLHttpRequest 的 API 。 通过 JavaScript 脚本语言的调用就能和服务器进行 HTTP 通信。借用这种手段。就能从已经加载完毕的 Web 页面上发起请求。只更新局部页面。
  - Ajax Comet 的解决方法
    - 一旦服务器端有内容更新了。 Comet 不会让请求等待。而是直接给客户端返回响应。
    - 通常，服务器端收到请求，在处理完毕后就会立即返回响应。但为了实现推送功能， Comet 会将响应置于挂起状态。当服务器端有内容更新时。再返回该响应。因此，服务端一旦有更新，就可以立即反馈给客户端。
- SPDY 的设计
  - 使用 SPDY 之后，HTTP 协议可以额外获得以下功能
    - 多路复用流
      - 通过单一的 TCP 连接，可以无限制处理多个 HTTP 请求。所有请求的处理都在一条 TCP 连接上完成。因此 TCP 的处理效率得到提高。
    - 赋予请求优先级
      - SPDY 不仅可以无限制地并发处理请求，还可以给请求逐个分配优先级顺序。
    - 压缩 HTTP 头部
    - 推送功能
    - 服务器提示功能
- 使用 浏览器 进行全双工通信的 WebSocket
  - WebSocket 就是 Web 浏览器 和 Web 服务器之间的全双工通信标准。
  - 该技术主要是为了解决 Ajax 和 Comet 中 XMLHttpRequest 附带的缺陷所引起的问题。
  - 一旦服务器与客户端建立了 WebSocket 协议的通信连接。
    - 之后的所有的通信都依靠这个专用协议进行。通信过程中可以互相发送 JSON XML HTML 或图片等任意格式的数据。
  - websocket 的主要特点
    - 推送功能
    - 减少通信量
    - 





























































































