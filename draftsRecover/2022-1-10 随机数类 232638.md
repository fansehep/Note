### std::thread

- std::thread class 是 c++ 11  后引入的一个封装线程类。
  - 构造函数
    - std::thread threadtypename(function_name, arg_1, arg_2)
    - std::thread threadtypename(&namespacename::functionname, class, arg_1, agr_2)
    - 注意 std::thread 类的构造函数都是会拷贝的，如果需要传入引用的话，需要 std::ref
      - 但请注意变量的生命周期。
    - 传入class时，如果不使用 std::ref
      - 默认是在主线程，即调用该函数的线程中构造
      - 然后thread默认会拷贝类函数的类或者数据类型。即默认会以拷贝传入
      - 但请注意，这里禁止调用默认构造函数即传入类型需要默认转化为函数形参类型
      - 析构函数默认会在构造他的函数中调用。
      - 隐式构造类的对象会在子线程中构造，而此时，如果在子线程中构造，则析构也在子线程。
      - 如果显示转换则在主线程中转换
  - join
    - 阻塞当前调用的线程，直到该thread结束
  - detach
    - 将threadname.detach() 的这个thread放入后台执行。即不等待
      - 这样做有风险。
  - std::this_thread::get_id()
    - 获取当前线程id